# Social Media Minion - Backup & Restore Data Format

This document outlines the JSON structure of the backup file (`minion-backup-*.json`) generated by the Social Media Minion application. Understanding this format is useful for manual inspection or migration of data.

**Warning:** Modifying this file can lead to data corruption. Always keep an original copy before making changes. When restoring, the application expects the data structure to match this format precisely.

---

## Root Object

The entire backup is a single JSON object. The keys at the root level correspond to different parts of the application's state.

| Key                             | Type          | Description                                                                                             |
| ------------------------------- | ------------- | ------------------------------------------------------------------------------------------------------- |
| `userRole`                      | `string`      | The professional role defined in the Persona settings.                                                  |
| `targetAudience`                | `string`      | The target audience defined in the Persona settings.                                                    |
| `referenceWorldContent`         | `string`      | The core knowledge base from the Persona settings.                                                      |
| `thisIsHowIWriteArticles`       | `string`      | Writing style examples for article generation from Persona settings.                                    |
| `articleUrl`                    | `string`      | The last used article URL for post generation.                                                          |
| `articleText`                   | `string`      | The last used article text for post generation.                                                         |
| `postSourceType`                | `string`      | The source type for post generation (`'url'` or `'text'`).                                               |
| `standardStarterText`           | `string`      | Default text prepended to generated posts.                                                              |
| `standardSummaryText`           | `string`      | Default text appended to generated posts.                                                               |
| `generationScript`              | `string`      | The master AI prompt for generating short-form posts.                                                   |
| `savedTemplates`                | `array`       | An array of saved post template objects. See `SavedTemplate` structure below.                         |
| `savedArticleTemplates`         | `array`       | An array of saved article template objects. See `SavedArticleTemplate` structure below.                 |
| `ayrshareQueue`                 | `array`       | An array of posts waiting to be scheduled. See `QueuedPost` structure below.                          |
| `scheduledPosts`                | `array`       | An array of posts that have been scheduled for future publication. See `QueuedPost` structure below.    |
| `historicalPosts`               | `array`       | An array of posts that have already been published via the scheduler. See `QueuedPost` structure below. |
| `schedulingInstructions`        | `string`      | The natural language instructions for the post scheduler.                                               |
| `parsedSchedule`                | `array`       | An array of strings representing the parsed schedule times (e.g., `["08:00", "13:30"]`).              |
| `ayrshareLog`                   | `array`       | A log of posts that have been successfully published. See `SentPost` structure below.                 |
| `settings`                      | `object`      | Application settings, like API keys. See `AppSettings` structure below.                               |
| `adminSettings`                 | `object`      | Admin-specific settings. See `AdminSettings` structure below.                                         |
| `researchScript`                | `string`      | The master AI prompt for the Post Researcher feature.                                                   |
| `researchedPosts`               | `array`\|`null` | The results from the last Post Researcher query.                                                        |
| `headlineEvalCriteria`          | `string`      | The master AI prompt for evaluating generated headlines.                                                |
| `headlineGenerationScript`      | `string`      | The master AI prompt for generating headlines.                                                          |
| `generatedHeadlines`            | `array`\|`null` | The results from the last headline generation. See `GeneratedHeadline` structure below.                 |
| `headlineSourceType`            | `string`      | The source type for headline generation (`'url'` or `'text'`).                                           |
| `headlineSourceUrl`             | `string`      | The last used source URL for headline generation.                                                       |
| `headlineSourceText`            | `string`      | The last used source text for headline generation.                                                      |
| `generatedArticleIdeas`         | `array`\|`null` | The list of article ideas from the idea generator. See `ArticleIdea` structure below.                 |
| `generateArticleWordCount`      | `number`      | The target word count for article generation (e.g., `1000`).                                            |
| `generateArticleSourceType`     | `string`      | The source type for article generation (`'url'` or `'text'`).                                            |
| `generateArticleSourceUrl`      | `string`      | The last used source URL for article generation.                                                        |
| `generateArticleSourceText`     | `string`      | The last used source text for article generation.                                                       |
| `generateArticleScript`         | `string`      | The master AI prompt for generating long-form articles.                                                 |
| `generatedArticleHistory`       | `array`       | An array of article versions from the iterative generation process. See `GeneratedArticle` below.     |
| `currentArticleIterationIndex`  | `number`      | The index of the currently viewed article in `generatedArticleHistory`.                                 |
| `generateArticleTitle`          | `string`      | The working title for the article generation.                                                           |
| `endOfArticleSummary`           | `string`      | The standard summary/CTA appended to generated articles.                                                |
| `articleEvalCriteria`           | `string`      | The master AI prompt for evaluating generated articles.                                                 |

---

## Object Structures

### `SavedTemplate` (for Posts)
Each object in the `savedTemplates` array.
```json
{
  "id": "template-1",
  "title": "The List of Lessons",
  "template": "{{DidThisThingToday}}\\n{{ShortContext}}\\n...",
  "example": "Hit $100k in revenue today.\\nAll organic.\\n...",
  "instructions": "Vary the use of the time...",
  "dateAdded": "7/22/2024",
  "usageCount": 0,
  "lastUsed": "Never"
}
```

### `SavedArticleTemplate`
Each object in the `savedArticleTemplates` array.
```json
{
  "id": "uuid-string-here",
  "title": "The 'Problem-Agitation-Solution' Framework",
  "description": "Target Platforms: LinkedIn Articles, Medium, Substack...",
  "structure": "Structure (2000 words):\\n\\nHook Opening (200 words)...",
  "specialInstructions": "Focus on vividly describing the reader's pain points in the 'Agitation' section."
}
```

### `QueuedPost`
Each object in the `ayrshareQueue`, `scheduledPosts`, and `historicalPosts` arrays.
```json
{
  "title": "The List of Lessons",
  "content": "A generated post about some topic...",
  "assessment": "This post is effective because...",
  "score": 95,
  "id": "uuid-string-here",
  "platforms": ["linkedin", "twitter"],
  "scheduledTime": "2024-08-15T08:00:00.000Z",
  "status": "scheduled"
}
```

### `SentPost`
Each object in the `ayrshareLog` array.
```json
{
  "title": "The Contrarian Take",
  "content": "Another generated post...",
  "assessment": "This post has a strong hook...",
  "score": 92,
  "id": "ayrshare-post-id-string",
  "sentAt": "2024-07-22T10:30:00.000Z",
  "platforms": ["linkedin"]
}
```

### `AppSettings`
The `settings` object.
```json
{
  "ayrshareApiKey": "AYR-xxxxxxxxxxxx"
}
```

### `AdminSettings`
The `adminSettings` object.
```json
{
  "authorizedEmails": ["user@example.com"],
  "secretPassword": "a-secret-password"
}
```

### `ArticleIdea`
Each object in the `generatedArticleIdeas` array.
```json
{
  "title": "The One Mistake That's Killing Your Team's Productivity",
  "summary": "A deep dive into why asynchronous communication is often misunderstood and misapplied, leading to burnout.",
  "keyPoints": [
    "The difference between async-first and async-only cultures.",
    "How to set clear expectations for response times.",
    "Tools that actually improve async work (and which to avoid).",
    "Why 'meeting-free Fridays' fail without systemic change.",
    "A 3-step framework for auditing your team's communication stack."
  ]
}
```

### `GeneratedHeadline`
Each object in the `generatedHeadlines` array.
```json
{
  "id": "headline-12345",
  "headline": "The One Mistake That's Killing Your Team's Productivity",
  "score": 95,
  "reasoning": "This headline uses strong trigger words..."
}
```

### `GeneratedArticle`
Each object in the `generatedArticleHistory` array.
```json
{
  "title": "Why Most Digital Transformations Fail",
  "content": "# Why Most Digital Transformations Fail\\n\\nIt's a common story...",
  "evaluation": "The article effectively addresses the target audience...",
  "score": 88,
  "suggestions": [
    {
      "text": "Consider adding a personal anecdote to the introduction.",
      "area": "Style"
    }
  ]
}
```